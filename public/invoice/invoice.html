<!DOCTYPE html>
<html>

<head>
    <title>OZ-INDIA</title>
    <link rel="icon" href="../pic/company_logo.PNG">
    <link rel="stylesheet" href="invoice.css">
    <script src="invoice.js"></script>
    <script src="jquery-1.11.0.min.js"></script>
</head>

<body>
    <div class="form-style-5">
        <!-- <img class= "potrait" src="../pic/company_logo.PNG"> -->
        <h1>OZ-INDIA Invoice Page</h1>
        <form onsubmit="return formValidation()" method="POST" action="http://localhost:3000/invoice" name='invoice'>
            <fieldset>
                <legend><span class="number">1</span> Buyer Details</legend>
                <input type="text" name="company_name" placeholder="Company Name *">
                <input type="text" name="customer_name" placeholder="Customer Name *">
                <input type="email" name="email" placeholder="Email *">
                <input type="text" name="gstin" placeholder="GSTIN No. *">
                <input type="number" name="mobile" placeholder="Phone No. *">
                <input type="text" name="po_no" placeholder="P.O. No. ">
                <input placeholder="P.O. Date " name="po_date" class="textbox-n" type="text" onfocus="(this.type='date')" onblur="(this.type='text')" id="date" />
                <textarea name="billing_address" placeholder="Billing Address "></textarea>
                <textarea name="shipping_address" placeholder="Shopping Address "></textarea>
                <label for="job">State and Code:</label>
                <select id="job" name="state">
                    <optgroup label="State">
                        <option value="Andhra Pradesh(37)">Andhra Pradesh(37)</option>
                        <option value="Arunachal Pradesh(12)">Arunachal Pradesh(12)</option>
                        <option value="Assam(18)">Assam(18)</option>
                        <option value="Bihar(10)">Bihar(10)</option>
                        <option value="Chattisgarh(22)">Chattisgarh(22)</option>
                        <option value="Delhi(07)">Delhi(07)</option>
                        <option value="Goa(30)">Goa(30)</option>
                        <option value="Gujarat(24)">Gujarat(24)</option>
                        <option value="Haryana(06)">Haryana(06)</option>
                        <option value="Himachal Pradesh(02)">Himachal Pradesh(02)</option>
                        <option value="Jammu and Kashmir(01)">Jammu and Kashmir(01)</option>
                        <option value="Jharkhand(20)">Jharkhand(20)</option>
                        <option value="Karnataka(29)">Karnataka(29)</option>
                        <option value="Kerala(32)">Kerala(32)</option>
                        <option value="Lakshadweep Islands(31)">Lakshadweep Islands(31)</option>
                        <option value="Madhya Pradesh(23)">Madhya Pradesh(23)</option>
                        <option value="Maharashtra(27)">Maharashtra(27)</option>
                        <option value="Manipur(14)">Manipur(14)</option>
                        <option value="Meghalaya(17)">Meghalaya(17)</option>
                        <option value="Mizoram(15)">Mizoram(15)</option>
                        <option value="Nagaland(13)">Nagaland(13)</option>
                        <option value="Odisha(21)">Odisha(21)</option>
                        <option value="Pondicherry(34)">Pondicherry(34)</option>
                        <option value="Punjab(03)">Punjab(03)</option>
                        <option value="Rajasthan(08)">Rajasthan(08)</option>
                        <option value="Sikkim(11)">Sikkim(11)</option>
                        <option value="Telangana(36)">Telangana(36)</option>
                        <option value="Tripura(16)">Tripura(16)</option>
                        <option value="Uttar Pradesh(09)">Uttar Pradesh(09)</option>
                        <option value="Uttarakhand(05)">Uttarakhand(05)</option>
                        <option value="West Bengal(19)">West Bengal(19)</option>
                    </optgroup>
                    <optgroup label="Union Territory">
                        <option value="Andaman and Nicobar Islands(35)">Andaman and Nicobar Islands(35)</option>
                        <option value="Chandigarh(04)">Chandigarh(04)</option>
                        <option value="Dadra & Nagar Haveli and Daman & Diu(26)">Dadra & Nagar Haveli and Daman & Diu(26)</option>
                        <option value="Ladakh(38)">Ladakh(38)</option>
                        <option value="Other Territory(97)">Other Territory(97)</option>
                    </optgroup>
                </select>
            </fieldset>
            <fieldset>
                <legend><span class="number">2</span> Product Details</legend>
                <div class="container">
                    <div class="row">
                        <div class="col-sm-6">
                            <table id="productTable" class="table table-bordered table-condensed table-striped">
                                <thead>
                                    <tr>
                                        <th>Edit</th>
                                        <th>Product Name</th>
                                        <th>HSN Code</th>
                                        <th>Amount</th>
                                        <th>Discount</th>
                                        <th>Net Amount</th>
                                        <th>Delete</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="panel panel-primary">
                                <!-- <div class="panel-heading">
                                    Product Information
                                </div> -->
                                <div class="panel-body">
                                    <div class="form-group">
                                        <label for="productname">
                                            Product Name
                                        </label>
                                        <input type="text" class="form-control" id="productname" />
                                    </div>
                                    <div class="form-group">
                                        <label for="hsn_code">
                                            HSN Code
                                        </label>
                                        <input type="text" class="form-control" id="hsn_code" />
                                    </div>
                                    <div class="form-group">
                                        <label for="amount">
                                            Amount
                                        </label>
                                        <input type="number" class="form-control" id="amount" />
                                    </div>
                                    <div class="form-group">
                                        <label for="discount">
                                            Discount
                                        </label>
                                        <input type="number" class="form-control" id="discount" />
                                    </div>
                                    <div class="form-group">
                                        <label for="net_amount">
                                            Net Amount
                                        </label>
                                        <input type="number" class="form-control" id="net_amount" />
                                    </div>
                                </div>
                                <div class="panel-footer">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <button type="button" id="updateButton" class="btn btn-primary" onclick="productUpdate();">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    // Next id for adding a new Product
                    var nextId = 1;
                    // ID of Product currently editing
                    var activeId = 0;

                    function productDisplay(ctl) {
                        var row = $(ctl).parents("tr");
                        var cols = row.children("td");

                        activeId = $($(cols[0]).children("button")[0]).data("id");
                        $("#productname").val($(cols[1]).text());
                        $("#hsn_code").val($(cols[2]).text());
                        $("#amount").val($(cols[3]).text());
                        $("discount").val($(cols[4]).text());
                        $("net_amount").val($(cols[5]).text());

                        // Change Update Button Text
                        $("#updateButton").text("Update");
                    }

                    function productUpdate() {
                        if ($("#updateButton").text() == "Update") {
                            productUpdateInTable(activeId);
                        } else {
                            productAddToTable();
                        }

                        // Clear form fields
                        formClear();

                        // Focus to product name field
                        $("#productname").focus();
                    }

                    // Add product to <table>
                    function productAddToTable() {
                        // First check if a <tbody> tag exists, add one if not
                        if ($("#productTable tbody").length == 0) {
                            $("#productTable").append("<tbody></tbody>");
                        }

                        // Append product to table
                        $("#productTable tbody").append(
                            productBuildTableRow(nextId));

                        // Increment next ID to use
                        nextId += 1;
                    }

                    // Update product in <table>
                    function productUpdateInTable(id) {
                        // Find Product in <table>
                        var row = $("#productTable button[data-id='" + id + "']")
                            .parents("tr")[0];

                        // Add changed product to table
                        $(row).after(productBuildTableRow(id));
                        // Remove original product
                        $(row).remove();

                        // Clear form fields
                        formClear();

                        // Change Update Button Text
                        $("#updateButton").text("Add");
                    }

                    // Build a <table> row of Product data
                    function productBuildTableRow(id) {
                        var ret =
                            "<tr>" +
                            "<td>" +
                            "<button type='button' " +
                            "onclick='productDisplay(this);' " +
                            "class='btn btn-default' " +
                            "data-id='" + id + "'>" +
                            "<span class='glyphicon glyphicon-edit' />" +
                            "</button>" +
                            "</td>" +
                            "<td>" + $("#productname").val() + "</td>" +
                            "<td>" + $("#hsn_code").val() + "</td>" +
                            "<td>" + $("#amount").val() + "</td>" +
                            "<td>" + $("#discount").val() + "</td>" +
                            "<td>" + $("#net_amount").val() + "</td>" +
                            "<td>" +
                            "<button type='button' " +
                            "onclick='productDelete(this);' " +
                            "class='btn btn-default' " +
                            "data-id='" + id + "'>" +
                            "<span class='glyphicon glyphicon-remove' />" +
                            "</button>" +
                            "</td>" +
                            "</tr>"

                        return ret;
                    }

                    // Delete product from <table>
                    function productDelete(ctl) {
                        $(ctl).parents("tr").remove();
                    }

                    // Clear form fields
                    function formClear() {
                        $("#productname").val("");
                        $("#hsn_code").val("");
                        $("#amount").val("");
                        $("#discount").val("");
                        $("#net_amount").val("");
                    }
                </script>
            </fieldset>
            <fieldset>
                <legend><span class="number">3</span> Other Details</legend>
                <input type="text" name="invoice_no" placeholder="Invoice No.">
                <input placeholder="Invoice Date" name="invoice_date" class="textbox-n" type="text" onfocus="(this.type='date')" onblur="(this.type='text')" id="date" />
                <label id="reverse_charge">Reverse Charge:
                    <input type="radio" name="reverse_charge" value="Y" /><span>Yes</span>
                    <input type="radio" name="reverse_charge" value="N" /><span>No</span></label>
                <br>
                <input type="text" name="transport_mode" placeholder="Transport Mode">
                <input type="text" name="vehicle_no" placeholder="Vehicle No. ">
                <input type="text" name="supply_place" placeholder="Place of Supply">
                <input placeholder="Date of Supply" name="supply_date" class="textbox-n" type="text" onfocus="(this.type='date')" onblur="(this.type='text')" id="date" />
            </fieldset>
            <input type="submit" value="Generate Invoice" />
        </form>
    </div>
</body>

</html>